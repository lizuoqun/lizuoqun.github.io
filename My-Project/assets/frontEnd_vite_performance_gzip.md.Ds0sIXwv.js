import{_ as s,c as i,o as a,aS as n}from"./chunks/framework.Dn4syfiR.js";const o=JSON.parse('{"title":"Gzip压缩","description":"","frontmatter":{},"headers":[],"relativePath":"frontEnd/vite/performance/gzip.md","filePath":"frontEnd/vite/performance/gzip.md","lastUpdated":1749030379000}'),p={name:"frontEnd/vite/performance/gzip.md"},e=n(`<h1 id="gzip压缩" tabindex="-1">Gzip压缩 <a class="header-anchor" href="#gzip压缩" aria-label="Permalink to &quot;Gzip压缩&quot;">​</a></h1><h2 id="为什么要进行gzip压缩" tabindex="-1">为什么要进行gzip压缩 <a class="header-anchor" href="#为什么要进行gzip压缩" aria-label="Permalink to &quot;为什么要进行gzip压缩&quot;">​</a></h2><p>在前面配置了分包策略之后，再次进行打包，如果项目当中安装了很多的依赖，公共依赖包vendor还是会很大，但是在build的时候可以发现有一个gzip压缩的插件，可以将依赖包进行压缩，减少打包后的体积。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dist/index.html</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                     0.70</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kB │ gzip:   </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.40</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dist/index.3e1c17ba.css</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">             7.79</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kB │ gzip:   </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.33</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dist/vendor.0fe5958d.css</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          379.29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kB │ gzip:  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">53.56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dist/assets/index-1999f5a6.js</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      78.34</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kB │ gzip:  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19.32</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dist/assets/vendor-f5c4bb20.js</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,908.62 kB │ gzip: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">573.20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kB</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">此时dist目录的大小为13,7M</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="进行gzip压缩" tabindex="-1">进行gzip压缩 <a class="header-anchor" href="#进行gzip压缩" aria-label="Permalink to &quot;进行gzip压缩&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i vite-plugin-compression -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在vite.config.js文件中进行配置</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viteCompression </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite-plugin-compression&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            viteCompression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>打包之后会生成对应的gzip文件 。但是在浏览器中获取gzip文件的时候，需要在请求的时候加上.gz后缀，否则浏览器会直接请求原始文件。 并且浏览器解压时也需要一定的时间，所以在文件不是很大的时候，使用gzip压缩会降低性能，所以需要根据项目情况进行配置。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dist/路径....../index.3e1c17ba.css.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          7.60</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kb / gzip: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.27</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dist/路径....../assets/index-1999f5a6.js.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    77.58</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kb / gzip: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18.59</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dist/路径....../vendor.0fe5958d.css.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">         370.41</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kb / gzip: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">51.89</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dist/路径....../assets/vendor-f5c4bb20.js.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   1864.70</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kb / gzip: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">558.58</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kb</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,10),l=[e];function t(h,k,r,d,g,F){return a(),i("div",null,l)}const b=s(p,[["render",t]]);export{o as __pageData,b as default};
