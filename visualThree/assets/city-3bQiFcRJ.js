import{S as M,P as x,W as y,b as C,I as S,R as g,V as z,n as I,k as j,D as B,j as T,a as h,o as W}from"./OrbitControls-DZAaySB6.js";import{G as v}from"./GLTFLoader-CW73V4hv.js";import{h as E,i as F,o as R,a as k}from"./index-DX-lZ6CL.js";const D="/visualThree/assets/wall-8g31Fsjp.png",G={id:"home",class:"w-full h-full"},A=E({__name:"city",setup(O){const t=new M,i=new x(75,window.innerWidth/window.innerHeight,.001,2e3);i.position.set(2,2,2),t.add(i);const m=()=>{const a=new j(16777215,2);t.add(a);const n=new B(16777215,.2);n.position.set(0,10,5);const e=n.clone();e.position.set(0,10,-5);const c=n.clone();c.position.set(5,10,0);const p=n.clone();p.position.set(-5,10,0),t.add(n),t.add(e),t.add(c),t.add(p)},r=new y;r.setSize(window.innerWidth,window.innerHeight);const u=new C(i,r.domElement);u.enableDamping=!0;let s;const f=()=>{new v().load("./src/assets/glb/shanghai_city.glb",n=>{s=n.scene.children[0],L(),s.traverse(e=>{console.log(" =====",e.name),e.name.includes("dongfangmingzhu")?e.material=o("#f40",null):e.name.includes("shanghaizhongxin")?e.material=o("#d90000",null):e.name.includes("huanqiujinrongzhongxin")?e.material=o("#008000",null):e.name.includes("jinmaodasha")?e.material=o("#0000ff",null):e.name.includes("Floor")?e.material=o(w(),null):e.name.includes("city")&&(e.material=o("#ffffff",l))}),t.add(s)})},w=()=>"#"+Math.floor(Math.random()*16777215).toString(16),L=()=>{const a=new T;a.expandByObject(s);const n=new h,e=new h;a.getCenter(e),a.getSize(n),s.position.copy(e.negate().setY(0))},b=new S;let l;const _={wraps:g,repeat:new z(10,10),wrapT:g};b.load(D,function(a){l=new I(a,_),l.needsUpdate=!0});const o=(a,n)=>{let e={};return n?e={map:n,alphaMap:n,aoMapIntensity:0,bumpMap:n,bumpScale:0}:e={color:a,shininess:100,flatShading:!0},new W(e)},d=()=>{r.render(t,i),requestAnimationFrame(d)};return F(()=>{var a;(a=document.getElementById("home"))==null||a.appendChild(r.domElement),m(),f(),d()}),(a,n)=>(R(),k("div",G))}});export{A as default};
